{% extends 'base.html' %}
{% block title %}Edit Attendance - SMS{% endblock %}
{% block head %}
<style>
  .edit-card { max-width: 500px; margin: 0 auto; }
  .edit-card h2 { margin-bottom: 4px; }
  .student-info { display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--bg); border-radius: 8px; margin-bottom: 16px; }
  .student-info .name { font-weight: 600; font-size: 1.05rem; }
  .student-info .detail { color: var(--muted); font-size: 0.85rem; }
  .status-options { display: flex; gap: 10px; margin: 16px 0; }
  .status-opt { display: none; }
  .status-opt + label {
    flex: 1; text-align: center; padding: 12px; border-radius: 8px; font-weight: 600;
    cursor: pointer; border: 2px solid var(--border); color: var(--muted);
    text-transform: uppercase; font-size: 0.9rem; transition: all 0.2s;
  }
  .status-opt[value="Present"]:checked + label { background: var(--emerald-light); color: var(--emerald); border-color: var(--emerald); }
  .status-opt[value="Absent"]:checked + label { background: var(--rose-light); color: var(--rose); border-color: var(--rose); }
  .status-opt[value="Late"]:checked + label { background: var(--amber-light); color: var(--amber); border-color: var(--amber); }
  .edit-actions { display: flex; gap: 10px; margin-top: 20px; }
  .edit-actions .button { flex: 1; text-align: center; padding: 10px; font-size: 0.95rem; }
</style>
{% endblock %}
{% block content %}
<div class="card edit-card">
  <h2>Edit Attendance</h2>
  <p class="caption">Admin override</p>

  <div class="student-info">
    <div>
      <div class="name">{{ record[3] }} {{ record[4] }}</div>
      <div class="detail">{{ record[5] }} &middot; {{ record[2] }}</div>
    </div>
  </div>

  <form method="POST">
    <label style="color:var(--muted); font-size:0.85rem; display:block; margin-bottom:6px;">Select new status</label>
    <div class="status-options">
      <input type="radio" name="status" value="Present" id="opt_p" class="status-opt" {{ 'checked' if record[1] == 'Present' }}>
      <label for="opt_p">Present</label>
      <input type="radio" name="status" value="Late" id="opt_l" class="status-opt" {{ 'checked' if record[1] == 'Late' }}>
      <label for="opt_l">Late</label>
      <input type="radio" name="status" value="Absent" id="opt_a" class="status-opt" {{ 'checked' if record[1] == 'Absent' }}>
      <label for="opt_a">Absent</label>
    </div>
    <div class="edit-actions">
      <button type="submit" class="button">Save Changes</button>
      <a href="{{ url_for('attendance') }}" class="button danger">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
